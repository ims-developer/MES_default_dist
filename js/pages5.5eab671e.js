"use strict";(self["webpackChunkvue_ui_teplate_gallery"]=self["webpackChunkvue_ui_teplate_gallery"]||[]).push([[7604],{5966:function(e,t,a){a.r(t),a.d(t,{default:function(){return F}});var n=a(49256),l=a(47919),i=a(23164),s=a(41239),o=a(28828),c=a(64701);const u={class:"side-panel-container"},d={key:0,class:"button-container"},r={class:"side-panel-content-wrapper"};var v=(0,n.aZ)({__name:"left-side-panel",setup(e){const t=(0,l.iH)(!(o.Br.value.isXSmall||o.Br.value.isSmall)),a=(0,n.Fl)((()=>o.Br.value.isXSmall||o.Br.value.isSmall));return(0,n.m0)((()=>{t.value=!(o.Br.value.isXSmall||o.Br.value.isSmall)})),(e,s)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,c.C_)({"left-side-panel":!0,overlapping:a.value,open:t.value})},[(0,n._)("div",u,[a.value?((0,n.wg)(),(0,n.iD)("div",d,[(0,n.Wm)((0,l.SU)(i.JV),{class:"open-button",icon:t.value?"hidepanel":"showpanel",onClick:s[0]||(s[0]=e=>t.value=!t.value)},null,8,["icon"])])):(0,n.kq)("",!0),(0,n._)("div",r,[(0,n.Wm)((0,l.SU)(i.Zs),{style:{"max-height":"100%"}},{default:(0,n.w5)((()=>[(0,n.WI)(e.$slots,"default")])),_:3})])])],2))}}),p=a(97179);const m=(0,p.Z)(v,[["__scopeId","data-v-6b0a2c6a"]]);var g=m;const h={class:"list-header"},f={class:"list-item"},D={class:"list-item-text"};var S=(0,n.aZ)({__name:"calendar-list",props:{dataSource:{default:()=>[]}},emits:["listSelectionChanged"],setup(e,{emit:t}){const a=e;let s=[];(0,n.m0)((()=>{s=[...a.dataSource.flatMap((e=>e.items))]}));const o=t;function u(e,{value:t}){s=t?[...s,e]:s.filter((t=>t!==e)),o("listSelectionChanged",s)}return(e,t)=>((0,n.wg)(),(0,n.j4)((0,l.SU)(i._p),{class:"calendar-list","data-source":e.dataSource,"active-state-enabled":!1,"focus-state-enabled":!1,"hover-state-enabled":!1,grouped:!0,"collapsible-groups":!0,"scrolling-enabled":!1},{group:(0,n.w5)((({data:e})=>[(0,n._)("div",h,(0,c.zw)(e.key),1)])),item:(0,n.w5)((({data:e})=>[(0,n._)("div",null,[(0,n._)("div",f,[(0,n.Wm)((0,l.SU)(i.k_),{value:(0,l.SU)(s).includes(e),"focus-state-enabled":!1,onValueChanged:t=>u(e,t)},null,8,["value","onValueChanged"]),(0,n._)("span",D,(0,c.zw)(e.text),1)])])])),_:1},8,["data-source"]))}});const _=(0,p.Z)(S,[["__scopeId","data-v-665ca718"]]);var w=_;const k={key:0,class:"appointment-tooltip"},b={class:"title"},y={class:"content"},C={class:"date"},U={key:0,class:"description"},W={class:"buttons"};var A=(0,n.aZ)({__name:"scheduler-tooltip",props:{selectedAppointmentData:{default:()=>({})}},emits:["clickEditAppointment","clickDeleteAppointment"],setup(e,{emit:t}){const a=e,s=(0,n.Fl)((()=>{const e={hour:"numeric",minute:"numeric",hour12:!1},t={...e,weekday:"short",day:"numeric",month:"numeric",year:"numeric"};return`${a.selectedAppointmentData?.startDate?.toLocaleString(void 0,t)} - ${a.selectedAppointmentData?.endDate?.toLocaleTimeString(void 0,e)}`})),o=t;return(e,t)=>e.selectedAppointmentData?((0,n.wg)(),(0,n.iD)("div",k,[(0,n._)("div",b,(0,c.zw)(e.selectedAppointmentData.text),1),(0,n._)("div",y,[(0,n._)("div",C,[(0,n.Wm)((0,l.SU)(i.JV),{icon:"clock","styling-mode":"text","focus-state-enabled":!1,"active-state-enabled":!1,"hover-state-enabled":!1}),(0,n.Uk)(" "+(0,c.zw)(s.value),1)]),e.selectedAppointmentData.description?((0,n.wg)(),(0,n.iD)("div",U,[(0,n.Wm)((0,l.SU)(i.JV),{icon:"textdocument","styling-mode":"text","focus-state-enabled":!1,"active-state-enabled":!1,"hover-state-enabled":!1}),(0,n.Uk)(" "+(0,c.zw)(e.selectedAppointmentData.description),1)])):(0,n.kq)("",!0)]),(0,n._)("div",W,[(0,n.Wm)((0,l.SU)(i.JV),{class:"button-danger",text:"Delete",type:"danger","styling-mode":"text",onClick:t[0]||(t[0]=()=>o("clickDeleteAppointment",e.selectedAppointmentData))}),(0,n.Wm)((0,l.SU)(i.JV),{class:"button-success",text:"Edit",type:"success","styling-mode":"text",onClick:t[1]||(t[1]=()=>o("clickEditAppointment"))})])])):(0,n.kq)("",!0)}});const x=A;var V=x,B=a(23954),H=a(22840);const L={class:"planning-scheduler"},E={class:"view-wrapper"},Z={class:"panels"},I={class:"left-side-panel-content"},J={class:"buttons"},M={class:"calendar"},T={class:"scheduler-container"};var z=(0,n.aZ)({__name:"planning-scheduler",setup(e){const t=(0,l.iH)(),a=(0,l.iH)(),c=(0,l.iH)(new Date),u=(0,l.iH)("month"),d=(0,l.iH)(!1),r=(0,l.iH)(null),v=(0,l.iH)([]),p=(0,l.iH)(new Date),m=B.TL.reduce(((e,t)=>e.concat(t.items)),[]),h=(0,l.iH)(null),f=(0,l.iH)(!1),D=(0,n.Fl)((()=>{if(o.Br.value.isSmall)return"bottom";const e=h.value?.target,t=e?.[0]?.classList||e?.classList;return t?.contains("dx-list")&&f?"left":"top"}));function S(e){d.value=e||!d.value}function _(e){if(!r.value)return[];const t=r.value.items();return 0!==t.length&&e?t.filter((t=>t.startDate.getDate()===e.startDate.getDate()&&t.startDate.getMonth()===e.startDate.getMonth())):[]}function k(e){v.value=_(e)}function b({value:e}){c.value=e,k({startDate:c.value})}function y(e){t.value?.instance.showAppointmentPopup(e?.data,!e)}function C(e){const t=e instanceof Date?e:new Date;c.value=t,h.value={data:{startDate:t},target:void 0},k({startDate:t})}function U(e){const t=e.flatMap((e=>[["calendarId","=",e.id],"or"])).slice(0,-1);r.value?.filter(t.length>0?t:null),r.value?.load(),k({startDate:c.value})}function W(e){const t=e.form.getEditor("calendarId");void 0===e.appointmentData.calendarId&&t.option("value",0)}function A(e){e.appointmentData.startDate.toDateString()===h.value?.data.startDate.toDateString()&&k(e.appointmentData)}function x(e){u.value=e,"month"!==u.value||o.Br.value.isSmall?"month"!==e&&o.Br.value.isLarge&&(d.value=!1):(d.value=!0,k({startDate:c.value}))}function z({name:e,value:t}){"currentView"===e&&x(t)}function X(e){const{appointmentData:t}=e;h.value={data:t,target:e.targetElement},"month"===u.value&&(k(t),S(!0))}function F(e){e.cancel=!0;const{appointmentData:t}=e.appointments[0],n=({targetElement:e})=>e?.[0]?.classList.contains("dx-scheduler-appointment-collector");h.value={data:t,target:e.targetElement},("month"===u.value||n(e))&&k(t),"month"===u.value&&o.Br.value.isSmall||n(e)?S(!0):a.value?.instance.show()}function q({cellData:e}){if(C(e.startDate),"month"===u.value&&e){const t=_(e);t.length>1&&(h.value={data:e,target:void 0},v.value=t,S(!0))}}function $(){y(h.value),a.value?.instance.hide()}function O(e){t.value?.instance.deleteAppointment(h.value?.data),a.value?.instance.hide(),v.value=_(e)}return(0,n.m0)((()=>{const e=[r.value,u.value,p.value,d.value];e.length&&setTimeout((()=>t.value?.instance?.repaint()))})),(0,n.m0)((()=>{const e=t?.value?.instance,a=e?.getStartViewDate(),n=e?.getEndViewDate();(p.value?.getMonth()!==c.value?.getMonth()||a&&a>c.value||n&&n<c.value)&&(p.value=c.value)})),(0,B.Ki)().then((e=>{r.value=new H.Z(e)})),(e,d)=>((0,n.wg)(),(0,n.iD)("div",L,[(0,n._)("div",E,[(0,n._)("div",Z,[(0,n.Wm)(g,{class:"left-side-panel"},{default:(0,n.w5)((()=>[(0,n._)("div",I,[(0,n._)("div",J,[(0,n.Wm)((0,l.SU)(i.JV),{text:"Today",onClick:C}),(0,n.Wm)((0,l.SU)(i.JV),{text:"Create event",type:"default",onClick:d[0]||(d[0]=()=>y())})]),(0,n._)("div",M,[(0,n.Wm)((0,l.SU)(i.dL),{value:c.value,onValueChanged:b},null,8,["value"])]),(0,n.Wm)(w,{"data-source":(0,l.SU)(B.TL),onListSelectionChanged:U},null,8,["data-source"])])])),_:1}),(0,n._)("div",T,[(0,n.Wm)((0,l.SU)(i.P7),{ref_key:"schedulerRef",ref:t,height:"inherit","adaptivity-enabled":!!(0,l.SU)(o.Br).isXSmall,"all-day-panel-mode":"hidden","data-source":r.value,"current-view":u.value,"current-date":p.value,"start-day-hour":4,"show-current-time-indicator":!1,onOptionChanged:z,onAppointmentClick:X,onAppointmentAdded:A,onAppointmentDeleted:A,onAppointmentTooltipShowing:F,onAppointmentFormOpening:W,onCellClick:q},{default:(0,n.w5)((()=>[(0,n.Wm)((0,l.SU)(s.Go),{"field-expr":"calendarId",label:"Calendar","data-source":(0,l.SU)(m)},null,8,["data-source"]),(0,n.Wm)((0,l.SU)(s.Cb),{type:"day"}),(0,n.Wm)((0,l.SU)(s.Cb),{type:"workWeek"}),(0,n.Wm)((0,l.SU)(s.Cb),{type:"month"}),(0,n.Wm)((0,l.SU)(s.Cb),{type:"agenda"})])),_:1},8,["adaptivity-enabled","data-source","current-view","current-date"]),(0,n.Wm)((0,l.SU)(i.D2),{ref_key:"tooltipRef",ref:a,"show-event":"click",target:h.value?.target,position:D.value},{default:(0,n.w5)((()=>[(0,n.Wm)(V,{"selected-appointment-data":h.value?.data,onClickEditAppointment:$,onClickDeleteAppointment:O},null,8,["selected-appointment-data"])])),_:1},8,["target","position"]),(0,n.Wm)((0,l.SU)(i.aW),{icon:"add",visible:(0,l.SU)(o.Br).isXSmall,onClick:d[1]||(d[1]=()=>y())},null,8,["visible"])])])])]))}});const X=(0,p.Z)(z,[["__scopeId","data-v-25427b07"]]);var F=X}}]);